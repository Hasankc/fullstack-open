{"version":3,"sources":["components/Alert.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Alert","_ref","name","window","alert","concat","Filter","filter","handleFilter","_jsx","children","_jsxs","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","person","deletePerson","number","onClick","id","Persons","persons","map","Notification","notification","className","text","baseUrl","exportObject","getAll","axios","get","then","response","data","create","personObject","post","update","console","log","put","remove","delete","App","_useState","useState","_useState2","_slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","setNotification","useEffect","personService","initialPersons","catch","error","personsAfterFilter","toLowerCase","includes","event","target","preventDefault","checkPerson","find","confirm","personUpdate","_objectSpread","returnedPerson","setTimeout","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.71d56f7f.chunk.js","sourcesContent":["const Alert = ({ name }) =>\n  window.alert(`${name} is already added to phonebook`);\n\nexport default Alert;","import React from \"react\";\n\nconst Filter = ({ filter, handleFilter }) => (\n  <div>\n    <form>\n      <div>\n        filter shown with <input value={filter} onChange={handleFilter} />\n      </div>\n    </form>\n  </div>\n);\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange,\n}) => (\n  <div>\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  </div>\n);\n\nexport default PersonForm;","import React from \"react\";\n\nconst Person = ({ person, deletePerson }) => (\n  <li>\n    {person.name} {person.number}\n    <button onClick={() => deletePerson(person.id)}>Delete</button>\n  </li>\n);\n\nexport default Person;","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Persons = ({ persons, deletePerson }) => {\n  return (\n    <div>\n      <ul>\n        {persons.map((person) => (\n          <Person key={person.id} person={person} deletePerson={deletePerson} />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ notification }) => {\n  if (notification === null) {\n    return null;\n  }\n\n  return <div className={notification.type}>{notification.text}</div>;\n};\n\nexport default Notification;","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\"; // 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => {\n    return response.data;\n  });\n};\n\nconst create = (personObject) => {\n  const request = axios.post(baseUrl, personObject);\n  return request.then((response) => {\n    return response.data;\n  });\n};\n\nconst update = (id, personObject) => {\n  console.log(`update ${id} ${personObject.name}`);\n  const request = axios.put(`${baseUrl}/${id}`, personObject);\n  return request.then((response) => {\n    return response.data;\n  });\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => {\n    return response.data;\n  });\n};\n\nconst exportObject = { getAll, create, update, remove };\n\nexport default exportObject;\n","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"./components/Alert\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\n\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notification, setNotification] = useState(null);\n\n  const getAllHook = () => {\n    personService\n      .getAll()\n      .then((initialPersons) => {\n        setPersons(initialPersons);\n      })\n      .catch((error) => console.error(error));\n  };\n\n  useEffect(getAllHook, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const checkPerson = persons.find(\n      (person) => person.name.toLowerCase() === personObject.name.toLowerCase()\n    );\n\n    if (checkPerson && checkPerson.number === newNumber) {\n      Alert(personObject);\n    }\n    if (checkPerson && checkPerson.number !== newNumber) {\n      const confirmNewNumber = window.confirm(\n        `Are you sure you want update ${checkPerson.name}'s number with a new one?`\n      );\n\n      if (confirmNewNumber) {\n        const personUpdate = { ...checkPerson, number: newNumber };\n        personService\n          .update(checkPerson.id, personUpdate)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== checkPerson.id ? person : returnedPerson\n              )\n            );\n            setNotification({\n              text: `${checkPerson.name}'s number was updated.`,\n              type: \"notification\",\n            });\n            setTimeout(() => setNotification(null), 5000);\n          })\n          .catch((error) =>\n            setPersons(\n              persons.filter((person) => person.name !== checkPerson.name)\n            )\n          );\n        setNotification({\n          text: `${checkPerson.name} has already been deleted from the server.`,\n          type: \"error\",\n        });\n        setTimeout(() => {\n          setNotification(null);\n        }, 5000);\n      }\n    }\n    if (!checkPerson) {\n      personService\n        .create(personObject)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n        })\n        .catch((error) => {\n          setNotification({\n            text: error.response.data.error,\n            type: \"error\",\n          });\n          setTimeout(() => {\n            setNotification(null);\n          }, 5000);\n        });\n      setNotification({\n        text: `${personObject.name} added to the phonebook.`,\n        type: \"notification\",\n      });\n      setTimeout(() => {\n        setNotification(null);\n      }, 5000);\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const deletePerson = (id) => {\n    const person = persons.find((p) => p.id === id);\n    const confirmDelete = window.confirm(\n      `Are you sure you want to delete ${person.name}?`\n    );\n\n    if (confirmDelete) {\n      personService.remove(id).then((returnedPerson) => {\n        persons.map((person) => (person.id !== id ? person : returnedPerson));\n      });\n      setPersons(persons.filter((person) => person.id !== id));\n      setNotification({\n        text: `${person.name} was deleted from the phonebook.`,\n        type: \"notification\",\n      });\n      setTimeout(() => {\n        setNotification(null);\n      }, 5000);\n    }\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value);\n  };\n\n  const personsAfterFilter =\n    filter === \"\"\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLowerCase().includes(filter.toLowerCase())\n        );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter filter={filter} handleFilter={handleFilter} />\n      <h3>Add a new</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={personsAfterFilter} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}